<div class="wrapper">
  <div class="container-fluid">
    <div class="pagetitle mb-20">
      <h2>Dashboard</h2>
    </div>
    <div class="pagebadges">
      <div class="row">
        <div class="col-lg-4 col-md-4">
          <div class="badgebox">
            <div>
              <i class="fa fa-user" aria-hidden="true"></i>
            </div>
            <div>
              <h3>{{approvedAgencyCount}}</h3>
              <p>Approved Agency</p>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-4">
          <div class="badgebox">
            <div>
              <i class="fa fa-user" aria-hidden="true"></i>
            </div>
            <div>
              <h3>{{unApprovedAgencyCount}}</h3>
              <p>Unapproved Agency</p>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-4">
          <div class="badgebox">
            <div>
              <i class="fa fa-user" aria-hidden="true"></i>
            </div>
            <div>
              <h3>{{subscriptionActiveAgencyCount}}</h3>
              <p>Active Subscription</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="whitebox white_box_table">
          <div class="head">Organization</div>
          <!-- Serach -->
          <div class="card cardfilter">
            <div class="row algcenter">    
              <div class="leftfilter">
                <div class="search-date">
                  <div class="pr15 label-text">Search Name : </div>
                  <input type="text" placeholder="Search Agency Name" (keydown)="keyDownFunction($event)" [(ngModel)]="nameSearch"
                    class="form-control mr15" id="">
                </div>
              </div>
              <!-- <div class="filter-buttons">
                <button type="submit" class="btn btn-send" (click)="getAllAgencyPlanDetailsList()">Search</button>
              </div> -->
            </div>
          </div>
          <!-- search end -->
          <div class="table-responsive">
            <table class="table">
              <thead class="thead-light">
                <tr>                  
                  <th scope="col">Agency</th>
                  <th scope="col">Last Logged In</th>
                  <th scope="col">Owner</th>
                  <th>Email</th>
                  <th>City</th>
                  <th scope="col">State</th>
                  <th>Plan</th>
                  <th scope="col">Valid From</th>
                  <th scope="col">Valid To</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let agency of agencyPlanList">                 
                  <td>{{agency.agencyName}}</td>
                  <td *ngIf="agency.lastLogin == null">-</td>
                  <td *ngIf="agency.lastLogin != null">{{agency.lastLogin| date}}</td>
                  <td>{{agency.ownerName}}</td>
                  <td>{{agency.emailId}} </td>
                  <td>{{agency.cityName}} </td>
                  <td>{{agency.stateName}}</td>
                  <td>{{agency.planName}}</td>
                  <td>{{agency.validFrom| date}}</td>
                  <td>{{agency.validTo| date}}</td>
                  
                </tr>
               

              </tbody>
            </table>
            <div class="text-center">
              <span class="text-center" *ngIf="(agencyPlanList.length == 0 && !loader)">No record found</span>
            </div>
          </div>
          <p-paginator [alwaysShow]="false" [rows]="limit" [totalRecords]="totalRecord" (onPageChange)="paginate($event)"></p-paginator>
        </div>
      </div>

    </div>


  </div>
</div>
